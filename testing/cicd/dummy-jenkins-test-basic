    pipeline {
            parameters {
                string( name: 'GW_BRANCH',
                defaultValue: '',
                description: 'target GW branch to install')

                string( name: 'FE_BRANCH',
                defaultValue: '',
                description: 'target FE branch to install')

                string( name: 'REPO_NAME',
                defaultValue: '',
                description: 'target repo to install')

            }

        agent { node { label 'master' } }
        stages{
            stage ('Set pending status while building'){
            steps{
                    build(job: 'github-commit-status-reporter', parameters: [[$class: 'StringParameterValue', name: 'STATUS', value: 'PENDING'], [$class: 'StringParameterValue', name: 'BRANCH', value: params.GW_BRANCH], [$class: 'StringParameterValue', name: 'REPO', value: params.REPO_NAME]])
        	    }
            }

        	stage ('gateway unit tests running') {
        	    steps{
                    build(job: 'gateway-unittest-runner')
        	    }
            }
        }
           post {
            success {
                build(job: 'github-commit-status-reporter', parameters: [[$class: 'StringParameterValue', name: 'STATUS', value: 'SUCCESS'], [$class: 'StringParameterValue', name: 'BRANCH', value: params.GW_BRANCH], [$class: 'StringParameterValue', name: 'REPO', value: params.REPO_NAME]])

            }

            failure {
                build(job: 'github-commit-status-reporter', parameters: [[$class: 'StringParameterValue', name: 'STATUS', value: 'FAILURE'], [$class: 'StringParameterValue', name: 'BRANCH', value: params.GW_BRANCH], [$class: 'StringParameterValue', name: 'REPO', value: params.REPO_NAME]])

            }

        }

  }
