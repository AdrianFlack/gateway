# gateway-basic
    pipeline {
            parameters {
                string( name: 'GW_BRANCH',
                defaultValue: '*/develop',
                description: 'target GW branch to install')

                string( name: 'FE_BRANCH',
                defaultValue: '*/develop',
                description: 'target FE branch to install')
            }

        agent { node { label 'master' } }
            stage ('prepare environment') {
        	    steps{
        	        build job: 'calculate hashes'
         	        build job: 'prepare-env', parameters: [[$class: 'StringParameterValue', name: 'GW_BRANCH', value: params.GW_BRANCH],
         	                                               [$class: 'StringParameterValue', name: 'FE_BRANCH', value: params.FE_BRANCH]]
        	    }
        	}
        stages{
        	stage ('Tests running') {
        	    steps{
                    setBuildStatus("Pending", "PENDING")
                    build(job: 'gateway-unittest-runner')
        	    }
            }
        }
        post {
    success {
        setBuildStatus("Build succeeded", "SUCCESS")
    }
    failure {
        setBuildStatus("Build failed", "FAILURE")
    }
  }
    }
